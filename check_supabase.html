<!DOCTYPE html>
<html>
<head>
    <title>Check Supabase Data</title>
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>
<body>
    <h1>Checking Supabase Data</h1>
    <div id="results"></div>

    <script>
        const supabase = window.supabase.createClient(
            'https://zbueoutrzlmwqakupedp.supabase.co',
            'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InpidWVvdXRyemxtd3Fha3VwZWRwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjM1NDA2ODYsImV4cCI6MjA3OTExNjY4Nn0.44aKq7FEe-XiVU0hRYgWCwHvEeokdOHLrxuEFCkMP_g'
        );

        async function checkData() {
            const results = document.getElementById('results');
            
            // Get total count
            const { count } = await supabase
                .from('master_sheet')
                .select('*', { count: 'exact', head: true });
            
            results.innerHTML += `<p><strong>Total rows in database:</strong> ${count}</p>`;
            
            // Get date range
            const { data: dates } = await supabase
                .from('master_sheet')
                .select('date')
                .order('date');
            
            if (dates && dates.length > 0) {
                const uniqueDates = [...new Set(dates.map(d => d.date))];
                results.innerHTML += `<p><strong>Unique dates:</strong> ${uniqueDates.length}</p>`;
                results.innerHTML += `<p><strong>Date range:</strong> ${uniqueDates[0]} to ${uniqueDates[uniqueDates.length - 1]}</p>`;
                
                // Show first 10 dates
                results.innerHTML += `<p><strong>First 10 dates:</strong></p>`;
                results.innerHTML += `<pre>${uniqueDates.slice(0, 10).join('\n')}</pre>`;
            }
        }

        checkData();
    </script>
</body>
</html>
